# vim: set ft=sh:

fresh JonathonMA/fresh bin/fresh --bin
for file in ~/.bash_profile ~/.bashrc; do
  fresh shell/noninteractive.sh --file=$file
  fresh shell/path.sh --file=$file
  fresh JonathonMA/fresh contrib/source-build.sh --file=$file
done

fresh-options --file=~/.bash_logout
  fresh shell/logout/*
fresh-options

fresh 'bin/*' --bin
fresh JonathonMA/junkscripts 'bin/*' --bin

# Shell
fresh shell/noninteractive.sh
fresh 'shell/aliases/*'
fresh 'shell/config/*'
fresh chriskempson/base16-shell scripts/base16-solarized-dark.sh
fresh rcaloras/bash-preexec bash-preexec.sh
fresh 'shell/preexec.sh'

# Config
fresh-options --file
  fresh 'config/*'
  fresh jasoncodes/dotfiles config/inputrc
  fresh jasoncodes/dotfiles config/tmux.conf
fresh-options
fresh garybernhardt/dotfiles .githelpers --file=~/.local/share/git/helpers
fresh seebi/dircolors-solarized dircolors.ansi-dark --file=~/.dircolors
fresh seebi/tmux-colors-solarized tmuxcolors-dark.conf --file=~/.tmux.conf

mkdir -p ~/.config/
ln -sf $FRESH_LOCAL/xdg-config/* ~/.config/

# Vim

fresh --file=~/.config/vim/xdg.vim vim/xdg.vim
mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/vim/"{undo,swap,backup}

fresh-options --file=${XDG_CONFIG_HOME:-$HOME/.config}/vim/vimrc --marker=\"
  fresh vim/leader.vim
  fresh vim/vundle_before.vim
  fresh vim/vundle.vim
  fresh 'vim/plugins/*.vim'
  fresh twe4ked/dotfiles vim/vundle_after.vim --ref=0f47bfef
  fresh vim/global.vim
  fresh 'vim/config/*.vim'
  fresh vim/mappings.vim
  fresh jasoncodes/dotfiles vim/config/auto_mkdir.vim
  fresh vim/exrc.vim
fresh-options

# Fonts
fresh powerline/powerline font/PowerlineSymbols.otf --file=~/.local/share/fonts/PowerlineSymbols.otf
fresh powerline/powerline font/10-powerline-symbols.conf --file=~/.config/fontconfig/conf.d/10-powerline-symbols.conf

# Other config
fresh bltavares/dot-files ctags --file=~/.ctags
fresh carlosantoniodasilva/dotfiles ackrc --file=~/.ackrc
fresh config/other/mplayer --file=~/.mplayer/config

# Temporary, this file is distributed with taskwarrior but in different
# locations on OS X to linux
fresh config/other/dark-16.theme --file=~/.taskrc

# Gitignore
fresh-options --file=~/.gitignore --marker=#
  fresh github/gitignore Global/Vim.gitignore
  fresh github/gitignore Global/macOS.gitignore
  fresh github/gitignore Global/Tags.gitignore
fresh-options

# Git aliases
fresh-options --file=~/.gitconfig --marker=#
  fresh git/alias_before.gitconfig
  fresh 'git/aliases/*'
  fresh 'git/config/*'
fresh-options

# Private
if [ ! -d ~/.dotfiles/private ]; then
  git clone ~/Dropbox/repos/dotfiles-private ~/.dotfiles/private
fi

fresh --file "private/config/*"

if [ ! -e ~/.gitconfig.local ]; then
    echo "Configuring local Git settings:"
    read -p "    Enter Git Name: " username
    git config -f ~/.gitconfig.local user.name "$username"
    read -p "    Enter Git Email: " email
    git config -f ~/.gitconfig.local user.email $email
    echo "Configured git settings in ~/.gitconfig.local. Not stored in local .dotfiles repo."
fi

ln -sf ~/.gitignore ~/.agignore
